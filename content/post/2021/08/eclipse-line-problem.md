---
title: 【Eclipse】赤線や緑線が出る問題の原因と解決方法【カバレッジ】
description: 今回はEclipseでソースコードが赤線や緑線でハイライトされる現象に関する備忘録になります。
date: 2021-08-09
categories: 
  - 技術記事
tags: 
  - Java
  - Eclipse
archives: 
  - 2021/08
thumbnail: /images/eclipse.webp
---

今回は**Eclipse**でソースコードが赤線や緑線でハイライトされる現象に関する備忘録になります。

<!--more-->

## 突然出現した赤と緑のハイライト

EclipseはJavaの有名なIDEで、使ってる方も多いと思います。Eclipseは多機能でなんでもできますが、それ故に知らない機能が多すぎて大変ですよね。

以前、Eclipseを使っている時に、ソースコードに赤線と緑線のハイライトが出るようになって困ったことがありました。実際のスクリーンショットが以下になります。

![赤と緑の線が出現した時のスクリーンショット](/images/eclipse-line-problem-01.png)

ソースコードが赤や緑になって結構見辛いです。見づらい以外に支障はなかったですが、いかんせん不便です。一応、このハイライトが出ている時にソースコードに何か入力すれば消えます。

特に何かやったという記憶はないので原因が分からず、しばらく画面と悪戦苦闘していました。

## 原因はカバレッジ

色々調べていたら、原因はカバレッジであることが分かりました。

解消方法は「カバレッジ」のタブを開き、「セッションの除去（バツマークのアイコン）」をクリックしたら消えました。小さいので見え辛いですが、以下の画像だと左下の赤枠で囲ったところにバツマークがあります。

![「セッションの除去」の場所](/images/eclipse-line-problem-02.png)

どうやらいつの間にかにカバレッジが実行されてたみたいですね。カバレッジというのは使ったことがなかったので全然知りませんでした。これはテストケースを検証する時に使う機能ですね。コードの分岐が網羅されているか色分けで確認することができます。

{{< box "カバレッジとは" >}}
カバレッジとはテストの網羅率のことを表します。ここでは、緑は「テストが指示を実行したこと」を、黄色は「テストが指示を実行したが、全ての条件が網羅されてないこと」を、赤は「テストが指示を実行していないこと」を指します。
{{< /box >}}

上の画像で言うと、`mainメソッド`をまだ実行していなかったので、赤のままになっていたということになります。

カバレッジは`alt + shift + E + J`のショートカットで実行される様ですね。気づかずにやってたかもしれません。

* * *

当時は、EclipseをJavaの勉強で使っている程度なので、カバレッジ機能は使ったことがありませんでした。開発の仕事でEclipseを使用している方は、単体テスト等で使っていることがあるかもしれませんね。

同じくEclipse初心者で同じ問題で困っている人はいるかも知れないので、お役に立てたら幸いです。以上で記事を終わりにします。

## 参考文献

* [Source Code Annotation | Eclipse Help](https://help.eclipse.org/2023-03/index.jsp?topic=%2Forg.eclipse.eclemma.doc%2Fpages%2Fannotations.html)